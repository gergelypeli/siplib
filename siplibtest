#! /usr/bin/python

from __future__ import print_function, unicode_literals
import siplib

caller = siplib.Leg(("CALLER", 5060), ("caller", "Caller"), ("CALLEE", 5060), ("callee", None))
callee = siplib.Leg(("CALLEE", 5060), ("callee", "Callee"))

req_params = dict(method="INVITE")
request = caller.print_request(req_params)
print(request)

req_params = callee.parse_request(request)
print(req_params)

res_params = dict(status=200, reason="OK")
response = callee.print_response(res_params, req_params)
print(response)

res_params = caller.parse_response(response)
print(res_params)

